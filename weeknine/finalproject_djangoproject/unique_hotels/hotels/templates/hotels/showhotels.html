{% extends "base.html" %}

{% block content %}
<div class='container'>
    <div class="card" style="width: 75vw;">
        <h5 class="card-header">{{ hotel.name }}</h5>
        <div id="carouselExampleControls" class="carousel slide card-img-top" data-ride="carousel">
            <div class="carousel-inner">
                {% for photo in photos %}
                    {% if photo == photos.0 %}
                        <div class="carousel-item active">
                    {% else %}
                        <div class="carousel-item">
                    {% endif %}
                            <img src="{{ photo.image.url }}" class="d-block w-100" alt="{{ hotel.name }}">
                        </div>
                {% endfor %}
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <div class="card-body text-center">
            <p class="card-text">{{ hotel.unique_snippet }}</p>
        </div>
        <div class="card-body text-center">
            <form method='POST'>
                {% csrf_token %}
                <input type='hidden' name='hotel_pk' value='{{ hotel.pk }}'>
                <button type='submit' name='like'><i class="far fa-heart"></i></button>
            </form>
            <form method='GET'><button type='submit' name='skip'><i class="fas fa-forward"></i></button></form>
            <form method='POST'>
                {% csrf_token %}
                <input type='hidden' name='hotel_pk' value='{{ hotel.pk }}'>
                <button type='submit' name='reject'><i class="fas fa-times"></i></button>
            </form>
        </div>
        <div class="card-footer">
            <a class="btn btn-primary" data-toggle="collapse" href="#moreDetails" role="button"
                aria-expanded="false" aria-controls="collapseExample">More Details</a>
            <a href="{{ hotel.booking_website }}" class="card-link float-right">Check Availability and Rates</a>
        </div>

        <div class="collapse" id="moreDetails">
            <div class="card card-body">
                <h3>About {{ hotel.name }}:</h3>
                {{ hotel.details }}
                <h3>Amenities:</h3>
                <ul>
                    {% for amenity in hotel.amenities_set.all %}
                    <li>{{ amenity }}</li>
                    {% endfor %}
                </ul>
                <h3>Categories:</h3>
                <ul>
                    {% for category in hotel.categories_set.all %}
                    <li>{{ category }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}